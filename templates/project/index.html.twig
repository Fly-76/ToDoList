{% extends 'template.html.twig' %}

{% block title %}Liste des projets actifs{% endblock %}

{% block main %}

    {# <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Description</th>
                <th>State</th>
                <th>OpenDate</th>
                <th>ScheduleDate</th>
                <th>CloseDate</th>
                <th>IsArchived</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for project in projects %}
            <tr>
                <td>{{ project.id }}</td>
                <td>{{ project.name }}</td>
                <td>{{ project.description }}</td>
                <td>{{ project.state }}</td>
                <td>{{ project.openDate ? project.openDate|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ project.scheduleDate ? project.scheduleDate|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ project.closeDate ? project.closeDate|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ project.isArchived ? 'Yes' : 'No' }}</td>
                <td>
                    <a href="{{ path('project_show', {'id': project.id}) }}">Voir</a>
                    <a href="{{ path('project_edit', {'id': project.id}) }}">Editer</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="9">Aucun projet trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table> #}

    {% for project in projects %}
        <article class ="col-12 col-sm-6 col-lg-3 my-2">
            <div class="card bg-ligh border-dark h-100">
                <div class="card-header">
                    <h5 class="card-title">{{ project.name }}</h5>
                </div>
                <div class="card-body align-center">
                    <table>
                        <tr><th>Créé le : </th><td>{{ project.openDate ? project.openDate|date('d/m/Y') }}</td></tr>
                        <tr><th>Finir pour : </th><td>{{ project.scheduleDate ? project.scheduleDate|date('d/m/Y') }}</td></tr>
                        <tr><th>Fini le : </th><td>{{ project.closeDate ? project.closeDate|date('d/m/Y') }}</td></tr>
                        <tr><th>Status : </th><td>{{ project.state }}</td></tr>
                    </table>
                </div>
                <div class="card-footer">
                    {# <a href="{{ path('project_show', {'id': project.id}) }}" class="btn btn-primary w-100 my-1">Voir</a> #}
                    <a href="{{ path('project_edit', {'id': project.id}) }}" class="btn btn-info w-100 my-1">Gérer</a>
                    {# {{ include('project/_delete_form.html.twig') }} #}
                </div>
            </div>
        </article>
    {% else %}
        <div class="alert alert-info" role="alert">
            Aucun projet trouvé
        </div>
    {% endfor %}
    
{% endblock %}


